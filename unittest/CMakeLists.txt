
set(Boost_USE_STATIC_LIBS OFF)
set(Boost_NO_BOOST_CMAKE ON)
set(BUILD_SHARED_LIBS ON)
find_package(Boost COMPONENTS unit_test_framework)
find_package(Threads REQUIRED)

if(Boost_FOUND)
    add_executable(DAQProcess_test DAQProcess_test.cc)
    target_link_libraries(DAQProcess_test app-framework Threads::Threads ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
    target_compile_definitions(DAQProcess_test PRIVATE "BOOST_TEST_DYN_LINK=1")
    target_include_directories(DAQProcess_test PRIVATE ${Boost_INCLUDE_DIRS})
    add_test(NAME DAQProcess_test COMMAND DAQProcess_test)
endif()

